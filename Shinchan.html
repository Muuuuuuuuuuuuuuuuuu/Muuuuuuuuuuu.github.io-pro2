<!DOCTYPE html>
<html>

<head>
    <title>GPU Shadow</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>



        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true; // ✅ เปิดใช้งานเงา!
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;

        document.body.appendChild(renderer.domElement);

        const scene = new THREE.Scene();

        // ✅ กล้อง
        const camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight,
            0.1,
            1000
        );
        camera.position.set(0, 2, 5);
        camera.lookAt(0, 0, 0);

        // ✅ Directional Light ที่สร้างเงา
        const light = new THREE.DirectionalLight(0xffffff, 1);
        light.position.set(5, 10, 5);
        light.castShadow = true;
        light.shadow.mapSize.width = 1024;
        light.shadow.mapSize.height = 1024;
        light.shadow.camera.near = 0.5;
        light.shadow.camera.far = 50;

        scene.add(light);

        // ✅ Ambient Light เล็กน้อยให้สว่างรวม
        const ambient = new THREE.AmbientLight(0x404040);
        scene.add(ambient);

        // ✅ พื้น
        const planeGeometry = new THREE.PlaneGeometry(10, 10);
        const planeMaterial = new THREE.MeshStandardMaterial({ color: 0xffffff });
        const plane = new THREE.Mesh(planeGeometry, planeMaterial);
        plane.rotation.x = -Math.PI / 2; // หมุนให้เป็นพื้น
        plane.position.y = -0.5;
        plane.receiveShadow = true; // ✅ พื้นรับเงา
        scene.add(plane);

        const sadness_vertices = [
                              -0.2066, 0.45, -0.225, 0.2066, 0.4, -0.225, -0.2066, 0.4, -0.225, 0.2066, 0.45, -0.225, 0.225, 0.4, -0.225, 0.2066, 0.4, -0.225, -0.2066, 0.45, -0.225, 0.2066, 0.9, -0.275, 0.2066, 0.45, -0.225, 0.2066, 0.4, -0.225, 0.225, 0.4, -0.1841, 0.2066, 0.4, -0.1841, 0.2066, 0.9, -0.275, 0.225, 0.45, -0.225, 0.2066, 0.45, -0.225, -0.2066, 0.4, -0.1841, -0.225, 0.4, -0.225, -0.2066, 0.4, -0.225, -0.2066, 0.45, -0.225, -0.225, 0.9, -0.275, -0.2066, 0.9, -0.275, -0.2066, 0.4, -0.225, -0.225, 0.45, -0.225, -0.2066, 0.45, -0.225, 0.225, 0.38, 0.1787, 0.225, 0.3946, 0.1641, 0.225, 0.44, 0.1841, -0.225, 0.38, 0.1787, -0.225, 0.4, 0.2241, -0.225, 0.44, 0.1841, 0.2066, 0.4, 0.1441, -0.2066, 0.3946, 0.1641, -0.2066, 0.4, 0.1441, 0.2066, 0.3946, 0.1641, -0.2066, 0.38, 0.1787, -0.2066, 0.3946, 0.1641, 0.2066, 0.38, 0.1787, -0.2066, 0.36, 0.1841, -0.2066, 0.38, 0.1787, 0.2066, 0.36, 0.1841, 0.225, 0.38, 0.1787, 0.225, 0.36, 0.1841, 0.2066, 0.38, 0.1787, 0.225, 0.3946, 0.1641, 0.225, 0.38, 0.1787, 0.2066, 0.3946, 0.1641, 0.225, 0.4, 0.1441, 0.225, 0.3946, 0.1641, -0.2066, 0.45, 0.185, 0.2066, 0.4446, 0.205, 0.2066, 0.45, 0.185, -0.2066, 0.4446, 0.205, 0.2066, 0.43, 0.2196, 0.2066, 0.4446, 0.205, -0.2066, 0.43, 0.2196, 0.2066, 0.41, 0.225, 0.2066, 0.43, 0.2196, 0.225, 0.41, 0.225, 0.2066, 0.43, 0.2196, 0.2066, 0.41, 0.225, 0.225, 0.43, 0.2196, 0.2066, 0.4446, 0.205, 0.2066, 0.43, 0.2196, 0.225, 0.4446, 0.205, 0.2066, 0.45, 0.185, 0.2066, 0.4446, 0.205, -0.225, 0.36, 0.1841, -0.2066, 0.38, 0.1787, -0.2066, 0.36, 0.1841, -0.225, 0.38, 0.1787, -0.2066, 0.3946, 0.1641, -0.2066, 0.38, 0.1787, -0.225, 0.3946, 0.1641, -0.2066, 0.4, 0.1441, -0.2066, 0.3946, 0.1641, -0.2066, 0.41, 0.225, -0.225, 0.43, 0.2196, -0.225, 0.41, 0.225, -0.2066, 0.43, 0.2196, -0.225, 0.4446, 0.205, -0.225, 0.43, 0.2196, -0.2066, 0.4446, 0.205, -0.225, 0.45, 0.185, -0.225, 0.4446, 0.205, 0.2066, 0.4, -0.1841, -0.2066, 0.4, 0.1441, -0.2066, 0.4, -0.1841, -0.2066, 0.4, 0.1441, -0.225, 0.4, -0.1841, -0.2066, 0.4, -0.1841, 0.2066, 0.4, -0.1841, 0.225, 0.4, 0.1441, 0.2066, 0.4, 0.1441, -0.2066, 0.41, 0.225, -0.225, 0.4, 0.225, -0.2066, 0.4, 0.225, 0.2066, 0.41, 0.225, -0.2066, 0.4, 0.225, 0.2066, 0.4, 0.225, -0.2066, 0.45, 0.1841, 0.2066, 0.45, 0.185, 0.2066, 0.45, 0.1841, -0.2066, 0.45, 0.1841, -0.225, 0.45, 0.185, -0.2066, 0.45, 0.185, 0.2066, 0.4, 0.225, 0.225, 0.41, 0.225, 0.2066, 0.41, 0.225, 0.2066, 0.45, 0.185, 0.225, 0.45, 0.1841, 0.2066, 0.45, 0.1841, 0.225, 0.43, 0.2196, 0.225, 0.41, 0.225, 0.225, 0.44, 0.1841, 0.225, 0.0, 0.275, 0.225, 0.36, 0.1841, 0.225, 0.4, 0.225, -0.225, 0.4446, 0.205, -0.225, 0.45, 0.185, -0.225, 0.44, 0.1841, -0.225, 0.36, 0.1841, -0.225, 0.0, 0.2341, -0.225, 0.0, 0.275, 0.225, 0.47, -0.1787, 0.225, 0.4554, -0.1641, 0.225, 0.41, -0.1841, -0.225, 0.47, -0.1787, -0.225, 0.45, -0.2241, -0.225, 0.41, -0.1841, 0.2066, 0.45, -0.1441, -0.2066, 0.4554, -0.1641, -0.2066, 0.45, -0.1441, 0.2066, 0.4554, -0.1641, -0.2066, 0.47, -0.1787, -0.2066, 0.4554, -0.1641, 0.2066, 0.47, -0.1787, -0.2066, 0.49, -0.1841, -0.2066, 0.47, -0.1787, 0.2066, 0.49, -0.1841, 0.225, 0.47, -0.1787, 0.225, 0.49, -0.1841, 0.2066, 0.47, -0.1787, 0.225, 0.4554, -0.1641, 0.225, 0.47, -0.1787, 0.2066, 0.4554, -0.1641, 0.225, 0.45, -0.1441, 0.225, 0.4554, -0.1641, -0.2066, 0.45, -0.1441, -0.225, 0.4554, -0.1641, -0.225, 0.45, -0.1441, -0.2066, 0.4554, -0.1641, -0.225, 0.47, -0.1787, -0.225, 0.4554, -0.1641, -0.2066, 0.47, -0.1787, -0.225, 0.49, -0.1841, -0.225, 0.47, -0.1787, -0.2066, 0.45, -0.1441, -0.225, 0.45, 0.1841, -0.2066, 0.45, 0.1841, -0.2066, 0.45, -0.1441, 0.2066, 0.45, 0.1841, 0.2066, 0.45, -0.1441, 0.2066, 0.45, 0.1841, 0.225, 0.45, -0.1441, 0.2066, 0.45, -0.1441, 0.225, 0.45, 0.1841, 0.225, 0.44, 0.1841, 0.225, 0.4, 0.1441, 0.225, 0.41, -0.1841, 0.225, 0.4, -0.1841, 0.225, 0.4, -0.225, -0.225, 0.45, -0.1441, -0.225, 0.41, -0.1841, -0.225, 0.4, -0.1841, -0.225, 0.45, -0.2241, -0.225, 0.45, -0.225, -0.225, 0.4, -0.225, -0.2066, 0.8902, -0.2622, -0.225, 0.9, -0.2741, -0.225, 0.8902, -0.2622, 0.2066, 0.8902, -0.2622, -0.2066, 0.9, -0.2741, -0.2066, 0.8902, -0.2622, 0.225, 0.8902, -0.2622, 0.2066, 0.9, -0.2741, 0.2066, 0.8902, -0.2622, -0.2066, 0.8902, -0.2622, -0.225, 0.49, -0.1841, -0.2066, 0.49, -0.1841, 0.2066, 0.9, -0.2741, -0.2066, 0.9, -0.275, -0.2066, 0.9, -0.2741, -0.2066, 0.9, -0.275, -0.225, 0.9, -0.2741, -0.2066, 0.9, -0.2741, 0.2066, 0.49, -0.1841, -0.2066, 0.8902, -0.2622, -0.2066, 0.49, -0.1841, 0.2066, 0.9, -0.2741, 0.225, 0.9, -0.275, 0.2066, 0.9, -0.275, 0.2066, 0.49, -0.1841, 0.225, 0.8902, -0.2622, 0.2066, 0.8902, -0.2622, 0.225, 0.9, -0.275, 0.225, 0.9, -0.2741, 0.225, 0.8902, -0.2622, -0.225, 0.8902, -0.2622, -0.225, 0.9, -0.2741, -0.225, 0.9, -0.275, -0.2066, 0.0099, 0.2327, -0.2066, 0.0, 0.2441, -0.2158, 0.0, 0.2341, 0.2066, 0.0, 0.2441, 0.2066, 0.0099, 0.2327, 0.2158, 0.0, 0.2341, -0.2066, 0.0, 0.265, -0.2066, 0.0099, 0.2738, -0.2158, 0.0, 0.275, 0.2066, 0.0099, 0.2738, 0.2066, 0.0, 0.265, 0.2158, 0.0, 0.275, -0.2066, 0.0097, -0.2817, 0.2066, 0.0, -0.2941, 0.2066, 0.0097, -0.2817, -0.2066, 0.0, -0.315, 0.2066, 0.0097, -0.3226, 0.2066, 0.0, -0.315, 0.2066, 0.0099, 0.2327, -0.2066, 0.0, 0.2441, -0.2066, 0.0099, 0.2327, 0.2066, 0.0, 0.265, -0.2066, 0.0099, 0.2738, -0.2066, 0.0, 0.265, -0.2066, 0.4, -0.1841, 0.2066, 0.0097, -0.2817, 0.2066, 0.4, -0.1841, -0.2066, 0.0, -0.2941, 0.2066, 0.0, -0.315, 0.2066, 0.0, -0.2941, 0.2066, 0.0, -0.2941, 0.2066, 0.0, -0.315, 0.2066, 0.0097, -0.3226, -0.2066, 0.0097, -0.2817, -0.2066, 0.0097, -0.3226, -0.2066, 0.0, -0.2941, 0.2066, 0.4, -0.225, -0.2066, 0.0097, -0.3226, -0.2066, 0.4, -0.225, 0.2066, 0.36, 0.1841, -0.2066, 0.0099, 0.2327, -0.2066, 0.36, 0.1841, 0.2066, 0.0, 0.2441, -0.2066, 0.0, 0.265, -0.2066, 0.0, 0.2441, -0.225, 0.0, 0.275, -0.225, 0.0, 0.2341, -0.2066, 0.0, 0.2441, -0.2066, 0.0099, 0.2327, -0.225, 0.0, 0.2341, -0.225, 0.36, 0.1841, 0.2066, 0.0099, 0.2327, 0.225, 0.36, 0.1841, 0.225, 0.0, 0.2341, 0.225, 0.0, 0.2341, 0.225, 0.0, 0.275, 0.2066, 0.0, 0.265, -0.2066, 0.4, 0.225, 0.2066, 0.0099, 0.2738, 0.2066, 0.4, 0.225, -0.2066, 0.0099, 0.2738, -0.225, 0.4, 0.225, -0.225, 0.0, 0.275, 0.2066, 0.0099, 0.2738, 0.225, 0.0, 0.275, 0.225, 0.4, 0.225, -0.2066, 0.45, -0.225, 0.2066, 0.45, -0.225, 0.2066, 0.4, -0.225, 0.2066, 0.45, -0.225, 0.225, 0.45, -0.225, 0.225, 0.4, -0.225, -0.2066, 0.45, -0.225, -0.2066, 0.9, -0.275, 0.2066, 0.9, -0.275, 0.2066, 0.4, -0.225, 0.225, 0.4, -0.225, 0.225, 0.4, -0.1841, 0.2066, 0.9, -0.275, 0.225, 0.9, -0.275, 0.225, 0.45, -0.225, -0.2066, 0.4, -0.1841, -0.225, 0.4, -0.1841, -0.225, 0.4, -0.225, -0.2066, 0.45, -0.225, -0.225, 0.45, -0.225, -0.225, 0.9, -0.275, -0.2066, 0.4, -0.225, -0.225, 0.4, -0.225, -0.225, 0.45, -0.225, 0.225, 0.4, 0.2241, 0.225, 0.36, 0.1841, 0.225, 0.38, 0.1787, 0.225, 0.3946, 0.1641, 0.225, 0.4, 0.1441, 0.225, 0.44, 0.1841, 0.225, 0.4, 0.2241, 0.225, 0.38, 0.1787, 0.225, 0.44, 0.1841, -0.225, 0.44, 0.1841, -0.225, 0.4, 0.1441, -0.225, 0.3946, 0.1641, -0.225, 0.38, 0.1787, -0.225, 0.36, 0.1841, -0.225, 0.4, 0.2241, -0.225, 0.44, 0.1841, -0.225, 0.3946, 0.1641, -0.225, 0.38, 0.1787, 0.2066, 0.4, 0.1441, 0.2066, 0.3946, 0.1641, -0.2066, 0.3946, 0.1641, 0.2066, 0.3946, 0.1641, 0.2066, 0.38, 0.1787, -0.2066, 0.38, 0.1787, 0.2066, 0.38, 0.1787, 0.2066, 0.36, 0.1841, -0.2066, 0.36, 0.1841, 0.2066, 0.36, 0.1841, 0.2066, 0.38, 0.1787, 0.225, 0.38, 0.1787, 0.2066, 0.38, 0.1787, 0.2066, 0.3946, 0.1641, 0.225, 0.3946, 0.1641, 0.2066, 0.3946, 0.1641, 0.2066, 0.4, 0.1441, 0.225, 0.4, 0.1441, -0.2066, 0.45, 0.185, -0.2066, 0.4446, 0.205, 0.2066, 0.4446, 0.205, -0.2066, 0.4446, 0.205, -0.2066, 0.43, 0.2196, 0.2066, 0.43, 0.2196, -0.2066, 0.43, 0.2196, -0.2066, 0.41, 0.225, 0.2066, 0.41, 0.225, 0.225, 0.41, 0.225, 0.225, 0.43, 0.2196, 0.2066, 0.43, 0.2196, 0.225, 0.43, 0.2196, 0.225, 0.4446, 0.205, 0.2066, 0.4446, 0.205, 0.225, 0.4446, 0.205, 0.225, 0.45, 0.185, 0.2066, 0.45, 0.185, -0.225, 0.36, 0.1841, -0.225, 0.38, 0.1787, -0.2066, 0.38, 0.1787, -0.225, 0.38, 0.1787, -0.225, 0.3946, 0.1641, -0.2066, 0.3946, 0.1641, -0.225, 0.3946, 0.1641, -0.225, 0.4, 0.1441, -0.2066, 0.4, 0.1441, -0.2066, 0.41, 0.225, -0.2066, 0.43, 0.2196, -0.225, 0.43, 0.2196, -0.2066, 0.43, 0.2196, -0.2066, 0.4446, 0.205, -0.225, 0.4446, 0.205, -0.2066, 0.4446, 0.205, -0.2066, 0.45, 0.185, -0.225, 0.45, 0.185, 0.2066, 0.4, -0.1841, 0.2066, 0.4, 0.1441, -0.2066, 0.4, 0.1441, -0.2066, 0.4, 0.1441, -0.225, 0.4, 0.1441, -0.225, 0.4, -0.1841, 0.2066, 0.4, -0.1841, 0.225, 0.4, -0.1841, 0.225, 0.4, 0.1441, -0.2066, 0.41, 0.225, -0.225, 0.41, 0.225, -0.225, 0.4, 0.225, 0.2066, 0.41, 0.225, -0.2066, 0.41, 0.225, -0.2066, 0.4, 0.225, -0.2066, 0.45, 0.1841, -0.2066, 0.45, 0.185, 0.2066, 0.45, 0.185, -0.2066, 0.45, 0.1841, -0.225, 0.45, 0.1841, -0.225, 0.45, 0.185, 0.2066, 0.4, 0.225, 0.225, 0.4, 0.225, 0.225, 0.41, 0.225, 0.2066, 0.45, 0.185, 0.225, 0.45, 0.185, 0.225, 0.45, 0.1841, 0.225, 0.4, 0.225, 0.225, 0.4, 0.2241, 0.225, 0.41, 0.225, 0.225, 0.4, 0.2241, 0.225, 0.44, 0.1841, 0.225, 0.41, 0.225, 0.225, 0.44, 0.1841, 0.225, 0.45, 0.1841, 0.225, 0.45, 0.185, 0.225, 0.45, 0.185, 0.225, 0.4446, 0.205, 0.225, 0.44, 0.1841, 0.225, 0.4446, 0.205, 0.225, 0.43, 0.2196, 0.225, 0.44, 0.1841, 0.225, 0.0, 0.2341, 0.225, 0.36, 0.1841, 0.225, 0.0, 0.275, 0.225, 0.36, 0.1841, 0.225, 0.4, 0.2241, 0.225, 0.4, 0.225, -0.225, 0.45, 0.185, -0.225, 0.45, 0.1841, -0.225, 0.44, 0.1841, -0.225, 0.44, 0.1841, -0.225, 0.4, 0.2241, -0.225, 0.41, 0.225, -0.225, 0.4, 0.2241, -0.225, 0.4, 0.225, -0.225, 0.41, 0.225, -0.225, 0.41, 0.225, -0.225, 0.43, 0.2196, -0.225, 0.44, 0.1841, -0.225, 0.43, 0.2196, -0.225, 0.4446, 0.205, -0.225, 0.44, 0.1841, -0.225, 0.0, 0.275, -0.225, 0.4, 0.225, -0.225, 0.36, 0.1841, -0.225, 0.4, 0.225, -0.225, 0.4, 0.2241, -0.225, 0.36, 0.1841, 0.225, 0.45, -0.2241, 0.225, 0.49, -0.1841, 0.225, 0.47, -0.1787, 0.225, 0.4554, -0.1641, 0.225, 0.45, -0.1441, 0.225, 0.41, -0.1841, 0.225, 0.45, -0.2241, 0.225, 0.47, -0.1787, 0.225, 0.41, -0.1841, -0.225, 0.41, -0.1841, -0.225, 0.45, -0.1441, -0.225, 0.4554, -0.1641, -0.225, 0.47, -0.1787, -0.225, 0.49, -0.1841, -0.225, 0.45, -0.2241, -0.225, 0.41, -0.1841, -0.225, 0.4554, -0.1641, -0.225, 0.47, -0.1787, 0.2066, 0.45, -0.1441, 0.2066, 0.4554, -0.1641, -0.2066, 0.4554, -0.1641, 0.2066, 0.4554, -0.1641, 0.2066, 0.47, -0.1787, -0.2066, 0.47, -0.1787, 0.2066, 0.47, -0.1787, 0.2066, 0.49, -0.1841, -0.2066, 0.49, -0.1841, 0.2066, 0.49, -0.1841, 0.2066, 0.47, -0.1787, 0.225, 0.47, -0.1787, 0.2066, 0.47, -0.1787, 0.2066, 0.4554, -0.1641, 0.225, 0.4554, -0.1641, 0.2066, 0.4554, -0.1641, 0.2066, 0.45, -0.1441, 0.225, 0.45, -0.1441, -0.2066, 0.45, -0.1441, -0.2066, 0.4554, -0.1641, -0.225, 0.4554, -0.1641, -0.2066, 0.4554, -0.1641, -0.2066, 0.47, -0.1787, -0.225, 0.47, -0.1787, -0.2066, 0.47, -0.1787, -0.2066, 0.49, -0.1841, -0.225, 0.49, -0.1841, -0.2066, 0.45, -0.1441, -0.225, 0.45, -0.1441, -0.225, 0.45, 0.1841, -0.2066, 0.45, -0.1441, -0.2066, 0.45, 0.1841, 0.2066, 0.45, 0.1841, 0.2066, 0.45, 0.1841, 0.225, 0.45, 0.1841, 0.225, 0.45, -0.1441, 0.225, 0.4, 0.1441, 0.225, 0.4, -0.1841, 0.225, 0.45, -0.1441, 0.225, 0.4, -0.1841, 0.225, 0.41, -0.1841, 0.225, 0.45, -0.1441, 0.225, 0.45, -0.1441, 0.225, 0.45, 0.1841, 0.225, 0.4, 0.1441, 0.225, 0.45, -0.225, 0.225, 0.45, -0.2241, 0.225, 0.4, -0.225, 0.225, 0.45, -0.2241, 0.225, 0.41, -0.1841, 0.225, 0.4, -0.225, -0.225, 0.4, -0.1841, -0.225, 0.4, 0.1441, -0.225, 0.45, -0.1441, -0.225, 0.4, 0.1441, -0.225, 0.44, 0.1841, -0.225, 0.45, 0.1841, -0.225, 0.45, -0.1441, -0.225, 0.4, 0.1441, -0.225, 0.45, 0.1841, -0.225, 0.4, -0.225, -0.225, 0.4, -0.1841, -0.225, 0.41, -0.1841, -0.225, 0.41, -0.1841, -0.225, 0.45, -0.2241, -0.225, 0.4, -0.225, -0.2066, 0.8902, -0.2622, -0.2066, 0.9, -0.2741, -0.225, 0.9, -0.2741, 0.2066, 0.8902, -0.2622, 0.2066, 0.9, -0.2741, -0.2066, 0.9, -0.2741, 0.225, 0.8902, -0.2622, 0.225, 0.9, -0.2741, 0.2066, 0.9, -0.2741, -0.2066, 0.8902, -0.2622, -0.225, 0.8902, -0.2622, -0.225, 0.49, -0.1841, 0.2066, 0.9, -0.2741, 0.2066, 0.9, -0.275, -0.2066, 0.9, -0.275, -0.2066, 0.9, -0.275, -0.225, 0.9, -0.275, -0.225, 0.9, -0.2741, 0.2066, 0.49, -0.1841, 0.2066, 0.8902, -0.2622, -0.2066, 0.8902, -0.2622, 0.2066, 0.9, -0.2741, 0.225, 0.9, -0.2741, 0.225, 0.9, -0.275, 0.2066, 0.49, -0.1841, 0.225, 0.49, -0.1841, 0.225, 0.8902, -0.2622, 0.225, 0.8902, -0.2622, 0.225, 0.49, -0.1841, 0.225, 0.45, -0.225, 0.225, 0.49, -0.1841, 0.225, 0.45, -0.2241, 0.225, 0.45, -0.225, 0.225, 0.45, -0.225, 0.225, 0.9, -0.275, 0.225, 0.8902, -0.2622, -0.225, 0.9, -0.275, -0.225, 0.45, -0.225, -0.225, 0.8902, -0.2622, -0.225, 0.45, -0.225, -0.225, 0.45, -0.2241, -0.225, 0.49, -0.1841, -0.225, 0.8902, -0.2622, -0.225, 0.45, -0.225, -0.225, 0.49, -0.1841, -0.2066, 0.0097, -0.2817, -0.2066, 0.0, -0.2941, 0.2066, 0.0, -0.2941, -0.2066, 0.0, -0.315, -0.2066, 0.0097, -0.3226, 0.2066, 0.0097, -0.3226, 0.2066, 0.0099, 0.2327, 0.2066, 0.0, 0.2441, -0.2066, 0.0, 0.2441, 0.2066, 0.0, 0.265, 0.2066, 0.0099, 0.2738, -0.2066, 0.0099, 0.2738, -0.2066, 0.4, -0.1841, -0.2066, 0.0097, -0.2817, 0.2066, 0.0097, -0.2817, -0.2066, 0.0, -0.2941, -0.2066, 0.0, -0.315, 0.2066, 0.0, -0.315, 0.2066, 0.0097, -0.3226, 0.2066, 0.4, -0.225, 0.2066, 0.0097, -0.2817, 0.2066, 0.4, -0.225, 0.2066, 0.4, -0.1841, 0.2066, 0.0097, -0.2817, 0.2066, 0.0097, -0.2817, 0.2066, 0.0, -0.2941, 0.2066, 0.0097, -0.3226, -0.2066, 0.0097, -0.2817, -0.2066, 0.4, -0.1841, -0.2066, 0.4, -0.225, -0.2066, 0.4, -0.225, -0.2066, 0.0097, -0.3226, -0.2066, 0.0097, -0.2817, -0.2066, 0.0097, -0.3226, -0.2066, 0.0, -0.315, -0.2066, 0.0, -0.2941, 0.2066, 0.4, -0.225, 0.2066, 0.0097, -0.3226, -0.2066, 0.0097, -0.3226, 0.2066, 0.36, 0.1841, 0.2066, 0.0099, 0.2327, -0.2066, 0.0099, 0.2327, 0.2066, 0.0, 0.2441, 0.2066, 0.0, 0.265, -0.2066, 0.0, 0.265, -0.225, 0.0, 0.2341, -0.2158, 0.0, 0.2341, -0.2066, 0.0, 0.2441, -0.2066, 0.0, 0.2441, -0.2066, 0.0, 0.265, -0.225, 0.0, 0.275, -0.2066, 0.0, 0.265, -0.2158, 0.0, 0.275, -0.225, 0.0, 0.275, -0.225, 0.36, 0.1841, -0.2066, 0.36, 0.1841, -0.2066, 0.0099, 0.2327, -0.2066, 0.0099, 0.2327, -0.2158, 0.0, 0.2341, -0.225, 0.0, 0.2341, 0.225, 0.0, 0.2341, 0.2158, 0.0, 0.2341, 0.2066, 0.0099, 0.2327, 0.2066, 0.0099, 0.2327, 0.2066, 0.36, 0.1841, 0.225, 0.36, 0.1841, 0.225, 0.0, 0.275, 0.2158, 0.0, 0.275, 0.2066, 0.0, 0.265, 0.2066, 0.0, 0.265, 0.2066, 0.0, 0.2441, 0.225, 0.0, 0.2341, 0.2066, 0.0, 0.2441, 0.2158, 0.0, 0.2341, 0.225, 0.0, 0.2341, -0.2066, 0.4, 0.225, -0.2066, 0.0099, 0.2738, 0.2066, 0.0099, 0.2738, -0.225, 0.0, 0.275, -0.2158, 0.0, 0.275, -0.2066, 0.0099, 0.2738, -0.2066, 0.0099, 0.2738, -0.2066, 0.4, 0.225, -0.225, 0.4, 0.225, 0.225, 0.4, 0.225, 0.2066, 0.4, 0.225, 0.2066, 0.0099, 0.2738, 0.2066, 0.0099, 0.2738, 0.2158, 0.0, 0.275, 0.225, 0.0, 0.275
];
            
        const sadness_geometry = new THREE.BufferGeometry();
        sadness_geometry.setAttribute('position', new THREE.Float32BufferAttribute(sadness_vertices, 3));
        sadness_geometry.computeVertexNormals();

        const sadness_material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
        const sadness_mesh = new THREE.Mesh(sadness_geometry, sadness_material);
        /* monkey_mesh.rotation.x = -Math.PI /2 ; // หมุนเตียงให้หงายขึ้น
         monkey_mesh.rotation.y = -0.5;
         monkey_mesh.castShadow = true;*/
        scene.add(sadness_mesh);

        // ✅ render loop
        /*function animate(t) {
            //bed_mesh.rotation.y = t * 0.001; //หมุนเตียง
            //monkey_mesh.rotation.z = t * 0.001;
            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }*/
 
        // ✅ ค่าควบคุม
        let move = {
            forward: false,
            backward: false,
            left: false,
            right: false
        };

        let isJumping = false;
        let velocityY = 0;

        // ✅ ฟังชันควบคุมปุ่ม
        window.addEventListener('keydown', (e) => {
            switch (e.key.toLowerCase()) {
                case 'w': move.forward = true; break;
                case 's': move.backward = true; break;
                case 'a': move.left = true; break;
                case 'd': move.right = true; break;
                case ' ': // spacebar jump
                    if (!isJumping && sadness_mesh.position.y <= 0.01) {
                        isJumping = true;
                        velocityY = 0.07;
                    }
                    break;
                case 'z':
                    sadness_mesh.scale.multiplyScalar(1.1);
                    break;
                case 'x':
                    sadness_mesh.scale.multiplyScalar(0.9);
                    break;
            }

            // ✅ จำกัดขนาด
            sadness_mesh.scale.x = THREE.MathUtils.clamp(sadness_mesh.scale.x, 0.2, 3);
            sadness_mesh.scale.y = THREE.MathUtils.clamp(sadness_mesh.scale.y, 0.2, 3);
            sadness_mesh.scale.z = THREE.MathUtils.clamp(sadness_mesh.scale.z, 0.2, 3);
        });

        window.addEventListener('keyup', (e) => {
            switch (e.key.toLowerCase()) {
                case 'w': move.forward = false; break;
                case 's': move.backward = false; break;
                case 'a': move.left = false; break;
                case 'd': move.right = false; break;
            }
        });

        // ✅ render loop
        function animate(t) {
            const speed = 0.05;

            if (move.forward) sadness_mesh.position.z -= speed;
            if (move.backward) sadness_mesh.position.z += speed;
            if (move.left) sadness_mesh.position.x -= speed;
            if (move.right) sadness_mesh.position.x += speed;

            // ✅ ขอบเขต
            sadness_mesh.position.x = Math.min(5, Math.max(-5, sadness_mesh.position.x));
            sadness_mesh.position.z = Math.min(5, Math.max(-5, sadness_mesh.position.z));

            // ✅ กระโดด
            if (isJumping || sadness_mesh.position.y > 0.01) {
                velocityY -= 0.003;
                sadness_mesh.position.y += velocityY;

                if (sadness_mesh.position.y <= 0) {
                    sadness_mesh.position.y = 0;
                    isJumping = false;
                    velocityY = 0;
                }
            }

            renderer.render(scene, camera);
            requestAnimationFrame(animate);
        }

        animate(0);

    </script>
</body>

</html>